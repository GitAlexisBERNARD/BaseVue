{
  "version": 3,
  "sources": ["../../vue-collapsed/dist/index.mjs"],
  "sourcesContent": ["import { defineComponent as L, toRef as w, computed as m, ref as y, shallowRef as N, onMounted as $, watch as C, openBlock as U, createBlock as O, resolveDynamicComponent as P, normalizeStyle as k, withCtx as q, renderSlot as z, normalizeProps as B, guardReactiveProps as M } from \"vue\";\nconst T = \"--vc-auto-duration\", V = `height var(${T}) cubic-bezier(0.33, 1, 0.68, 1)`, d = { padding: 0 }, Y = 300, K = {\n  position: \"absolute\",\n  width: \"1px\",\n  height: \"1px\",\n  padding: \"0\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  border: \"0\"\n};\nfunction D(t) {\n  return t.value ? parseFloat(getComputedStyle(t.value).height) : 0;\n}\nfunction R(t) {\n  var n;\n  return {\n    height: `${((n = t.value) == null ? void 0 : n.scrollHeight) || 0}px`\n  };\n}\nfunction b(t) {\n  if (!t.value)\n    return {};\n  const { transition: n } = getComputedStyle(t.value);\n  return n === \"all 0s ease 0s\" ? { transition: V } : { transition: n };\n}\nfunction H(t) {\n  if (!t.value)\n    return !0;\n  const { transition: n } = getComputedStyle(t.value);\n  return typeof window.requestAnimationFrame > \"u\" || matchMedia(\"(prefers-reduced-motion: reduce)\").matches || n.includes(\"none\") || n.includes(\"height 0s\");\n}\nfunction j(t = 0) {\n  if (t === 0)\n    return 0;\n  const n = t / 36, l = Math.round((4 + 15 * n ** 0.25 + n / 5) * 10);\n  return Number.isFinite(l) ? l : 0;\n}\nconst J = /* @__PURE__ */ L({\n  inheritAttrs: !0,\n  __name: \"Collapse\",\n  props: {\n    when: { type: Boolean },\n    baseHeight: { default: 0 },\n    as: { default: \"div\" }\n  },\n  emits: [\"collapse\", \"expand\", \"collapsed\", \"expanded\"],\n  setup(t, { emit: n }) {\n    const l = t, r = n, i = w(l, \"when\"), o = w(l, \"baseHeight\"), p = m(() => ({ overflow: \"hidden\", height: `${o.value}px` })), f = m(() => ({\n      ...d,\n      ...o.value === 0 ? { display: \"none\" } : p.value\n    })), a = y(null), v = y(i.value ? \"expanded\" : \"collapsed\"), c = (e) => v.value = e;\n    function F() {\n      return i.value ? d : o.value === 0 ? K : f.value;\n    }\n    const h = N(F()), u = (e) => h.value = e, s = (e) => u({ ...h.value, ...e }), x = y(Y), E = (e) => x.value = e, S = m(() => ({ [T]: `${x.value}ms` }));\n    function A() {\n      u(d), c(\"expanded\"), r(\"expanded\");\n    }\n    function _() {\n      u(f.value), c(\"collapsed\"), r(\"collapsed\");\n    }\n    $(() => {\n      if (!a.value)\n        return;\n      const e = j(a.value.scrollHeight - o.value);\n      e > 0 && E(e), !i.value && o.value === 0 && u(f.value);\n    }), C(i, (e) => {\n      if (e) {\n        if (H(a))\n          return A();\n        c(\"expanding\"), r(\"expand\"), u({\n          ...d,\n          ...p.value,\n          ...S.value\n        }), requestAnimationFrame(() => {\n          s({\n            ...R(a),\n            ...b(a),\n            willChange: \"height\"\n          });\n        });\n      } else {\n        if (H(a))\n          return _();\n        c(\"collapsing\"), r(\"collapse\"), s({\n          ...S.value,\n          ...R(a)\n        }), requestAnimationFrame(() => {\n          s({\n            ...p.value,\n            ...b(a),\n            willChange: \"height\"\n          });\n        });\n      }\n    }), C(o, (e) => {\n      i.value || (e > 0 ? s({ display: void 0, height: `${e}px` }) : s({ display: \"none\" }));\n    });\n    function I(e) {\n      var g;\n      e.target === a.value && e.propertyName === \"height\" && (i.value ? ((g = a.value) == null ? void 0 : g.scrollHeight) === D(a) && A() : o.value === D(a) && _());\n    }\n    return (e, g) => (U(), O(P(l.as), {\n      ref_key: \"collapseRef\",\n      ref: a,\n      style: k(h.value),\n      onTransitionend: I,\n      \"data-collapse\": v.value\n    }, {\n      default: q(() => [\n        z(e.$slots, \"default\", B(M({ state: v.value })))\n      ]),\n      _: 3\n    }, 40, [\"style\", \"data-collapse\"]));\n  }\n});\nexport {\n  J as Collapse\n};\n"],
  "mappings": "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",
  "names": []
}
